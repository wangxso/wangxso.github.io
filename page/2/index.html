<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>非典型程序员的一生</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="程序员 | 工程师 | 摄影爱好者 | 骑行客">
<meta property="og:type" content="website">
<meta property="og:title" content="非典型程序员的一生">
<meta property="og:url" content="https://wangxso.github.io/page/2/index.html">
<meta property="og:site_name" content="非典型程序员的一生">
<meta property="og:description" content="程序员 | 工程师 | 摄影爱好者 | 骑行客">
<meta property="og:locale">
<meta property="article:author" content="wangxso">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="非典型程序员的一生" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">非典型程序员的一生</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Suche"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://wangxso.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-2022年度总结" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/27/2022%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" class="article-date">
  <time class="dt-published" datetime="2022-11-26T23:39:00.000Z" itemprop="datePublished">2022-11-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/zczb/">zczb</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/11/27/2022%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/">2022年度总结</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="年度总结-魔幻、寒冬、焦虑"><a href="#年度总结-魔幻、寒冬、焦虑" class="headerlink" title="年度总结: 魔幻、寒冬、焦虑"></a><strong>年度总结: 魔幻、寒冬、焦虑</strong></h2><p>距离2022年结束的话还剩下不到40天的时间，最近被封控在寝室不由的胡思乱想，也借此来总结下这个魔幻的2022吧。</p>
<hr>
<h2 id="上半年-关键词：春招、平稳、幸运"><a href="#上半年-关键词：春招、平稳、幸运" class="headerlink" title="上半年-关键词：春招、平稳、幸运"></a>上半年-关键词：春招、平稳、幸运</h2><p>2022年上半年，这几个月在我的印象中还算平缓，没有发生什么逆天的魔幻事件。我从春节过完年回到学校就开始着手准备春招的事情。春招一开始也不算很顺利吧，但是能看到有许多的面试机会可以让我试。第一个面试跟我本科的时候一样还是熟悉的美团，还是熟悉的为难我。可能因为美团总是第一个面试所以导致我对于美团的面试体验感觉是最差的。然后后面接踵而来的就是OPPO和携程的面试，由于我一直以来对于拼多多的印象不是很好所以在OPPO和拼多多面试冲突的情况下拒绝了拼多多的面试。其中OPPO到了HR面，明显OPPO是魔幻的给我挂了，然后携程后面拿到了Offer。之后还有接着面百度和字节、阿里。其中百度到了二面挂了，字节后面拿到了Offer，阿里二面完后续因为HC冻结了导致流程推进不下去了。最后我选择了字节，也许在当时这是我心目中最好的公司了吧。总结下这上半年，就是四平八稳，心想事成，虽然中间经历了一些波折，但是最后结果是好的。</p>
<hr>
<h2 id="下半年-关键词：实习、魔幻、寒冬、秋招"><a href="#下半年-关键词：实习、魔幻、寒冬、秋招" class="headerlink" title="下半年-关键词：实习、魔幻、寒冬、秋招"></a>下半年-关键词：实习、魔幻、寒冬、秋招</h2><hr>
<h3 id="实习"><a href="#实习" class="headerlink" title="实习"></a>实习</h3><p>眼光来到下半年，大概在六月份的时候上海就开始了一系列的魔幻行为。导致那时候人们对于上海的印象开始直线下跌，由于我选择的base是在上海，所以那时对于能不能去上海，我是希望能不去最好别去，我的父母当然也是那么觉得的。但是我问当时对接的HR的时候，她说上海工区在慢慢恢复线下办公，所以让我最好还是去。我也听信了她的话，事后证明HR的话你最好别信。也正是此，我瞒着导师六月份离开了学校，先回家准备几天，在六月十五日正式到达上海，开始了我的第一次实习生活，当时的我充满了对于实习工作的热情和期待。由于我只是短租三个月由此，我的选择就不会很多，由于我懒得找房源所以选择了自如寓，由此就入住了自如寓，到达公司骑自行车只需要15分钟左右吧。住公寓的好处就是省心不用和房东掰扯什么，坏处就是商水商电。由于我的房间的空调是对着厕所的导致房间会很热，所以空调一天到晚不能停。由此我的电费大概一个月要四五百左右。很快时间到了六月十七日，我入职的时间，由于之前工作的电脑就寄到我手上了(锐评下当时发给我的Tinkbook 真的烂的一批，屏幕都不到720p)。然后那天就是远程入职，各种新人的培训和认识了我的leader东旭和我的mentor海潇，可以说我的第一次的实习就遇到两位很nice的领导和导师也算比较幸运的了。然后这天就是周五，我就比较轻松的度过了第一天(其实就是学下新人的课程和相关环境的配置)，海潇叫我下周一参加组里面的组会给大家介绍一下。第一次周会后，我就开始了golang的学习，因为之前接触过一点所以学起来还算比较轻松，经过一周的学习(虽然不需要一周，很快就基本掌握了)我就基本掌握了golang的语法和一些高级的特性。第二周，也是我第一次来到字节的漕河泾工区，那天早上我也不算很早就出发了，那时候我还是走路过去的(其实有点不是很熟悉，美其名曰锻炼身体)。然后我就接到了人生的第一个需求，开发一个对于超时的续费、退订订单的转人工兜底的系统。一开始的需求可以说还算是比较大的，并且当时让我一个人完成，当时的我觉得是没什么大问题是可以完成的。然后我就开始着手准备技术设计的文档从而参加技术评审。后面一周又有一个新人实习生加入了我们组，mentor就和我商量把这个需求拆分给他一部分，并且让我拆分的时候要保证两者能够并行的开发。由此我把需求拆分成了数据的采集和处理的一部分和后续与provider对接的一部分。然后这个需求经过后续的沟通修改了很大部分，直接把前台展示的部分直接删掉了，只保留很少的一部分，由此此前写的许多代码就没用了。后续也就是稀松平常的实习生活了，第一次上线、第一次出事故、第一次加班到凌晨、第一次团建、第一次转正答辩同时也收获了第一次转正答辩不通过。</p>
<p>这个实习让我收获了很多不管是对于人际的交流，还是技术上的储备。但是这次实习也让我失去了很多，比如抢占先机的秋招提前批、字节的秋招的机会等等。</p>
<h3 id="秋招"><a href="#秋招" class="headerlink" title="秋招"></a>秋招</h3><p>我的秋招是我在实习的时候就开始了的，大概是七月中下旬左右。那时候一开始我投了许多外企，当时我对字节的工作节奏感觉很不舒服，想要找找外企的机会。然后就是微软、intel、Nvidia之类的投了一遍，一开始没有什么音讯，到后来做了笔试后也没有相关的后续了。然后就到了八月我迎来了第一个面试，华为云的面试，当时我还是在公司上班，下午的时间我约了一个会议室，然后就开始面试了，虽然是第一个面试，但是经历过春招的洗礼后，我发现这种面试我开始变得从容自若。不出意外地第一轮的两场面试都通过了，然后后面就是主管面，由于一些我忘了的原因导致我后续上线完了一点造成了一些小尴尬，但是主管面顺利的通过了。后面陆陆续续的做了一些笔试如bilibili、米哈游之类的笔试，但是都是笔试后就没有后续了。然后九十月陆陆续续面了斗鱼、宁波银行、思格新能源、H3C、浙江电信、浙江移动，都没有很好的反馈。我的秋招真的可以说很难，我以为我有一段大厂的实习在我找正式工作的时候会有很大的帮助，可是结果是有许多的公司都把我的简历挂了。我的秋招到了现在还是没有一份offer，我有点迷茫了，不知道我为什么总是抓不住时代的机遇而总是被时代所埋葬的那一批人。2021年的春天，那是我一辈子最高兴的时候，是我考上武汉大学的研究生的时候，我不知道读这个研究生是对是错，但是从现在来看机遇不是站在我的这一边。10月份我回到学校，就感觉肚子不是很舒服，我就去查了肠镜，结肠炎。虽然已经查完了，但是我还是会怀疑自己是不是得了什么奇奇怪怪的病，有一些症状总会去套一些比较严重的病。我不知道从什么时候起，开始越来越害怕死亡、害怕我的人生还没起步就失去所有、害怕一辈子要和某些厄运作斗争。然后就是十一月开始，武汉的疫情形势越来越严峻，我也没想到有一天能够逃过上海的我，会在武汉被封在寝室里。由于没有找到工作所以我把宝压在了另一个赛道-考公上面，由于10月以来的不舒服导致我，10几乎没有复习过，因为我对华为还抱着一丝幻想，事实证明相信华为的话，那还不如想想怎么可控核聚变。11月初，我才开始准备浙江省的选调，而且还是那种三天打鱼两天晒网的，感觉我的竞争力不是很大。</p>
<hr>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><strong>2022是魔幻的一年，互联网寒冬的一年。</strong></p>
<p><strong>时代洪流滚滚向前，而我不过是没有赶上潮头的沙粒。</strong></p>
<h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/11/547942483.png" alt="字节实习offer"></h2><p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/11/1413701665.png" alt="携程实习Offer"></p>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/11/2705386237.jpg" alt="漕河泾CBD"></p>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/11/4014374324.jpg" alt="工区的大厅"></p>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/11/901799145.jpg" alt="字节工牌"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/11/27/2022%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" data-id="clmivnvrz0001c3p68blh1jd5" data-title="2022年度总结" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-读《超级访谈：对话毕玄》有感" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/10/%E8%AF%BB%E3%80%8A%E8%B6%85%E7%BA%A7%E8%AE%BF%E8%B0%88%EF%BC%9A%E5%AF%B9%E8%AF%9D%E6%AF%95%E7%8E%84%E3%80%8B%E6%9C%89%E6%84%9F/" class="article-date">
  <time class="dt-published" datetime="2022-10-10T04:07:00.000Z" itemprop="datePublished">2022-10-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/10/%E8%AF%BB%E3%80%8A%E8%B6%85%E7%BA%A7%E8%AE%BF%E8%B0%88%EF%BC%9A%E5%AF%B9%E8%AF%9D%E6%AF%95%E7%8E%84%E3%80%8B%E6%9C%89%E6%84%9F/">读《超级访谈：对话毕玄》有感</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="读《超级访谈：对话毕玄》有感"><a href="#读《超级访谈：对话毕玄》有感" class="headerlink" title="读《超级访谈：对话毕玄》有感"></a>读《超级访谈：对话毕玄》有感</h1><p>推荐大家想看的可以读下，也可以作为休闲时候的播客听一听。</p>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/10/2527800353.png" alt="image-20221010195857654.png"></p>
<h2 id="听完一整篇毕玄的访谈，我的一个总结在于要想成为一个成功的程序员或者成功的人，最重要的还是吃到版本红利，当然实力也是很重要的，但是当达到一定的实力的时候，时运真的很重要。如果他没有经历那时候淘宝疯狂的增长时期，我觉得他甚至进不去阿里团队。也正是那会淘宝刚起步，才有许多的机会或者说锻炼的机会能够去试错，积累相关的技术经验。"><a href="#听完一整篇毕玄的访谈，我的一个总结在于要想成为一个成功的程序员或者成功的人，最重要的还是吃到版本红利，当然实力也是很重要的，但是当达到一定的实力的时候，时运真的很重要。如果他没有经历那时候淘宝疯狂的增长时期，我觉得他甚至进不去阿里团队。也正是那会淘宝刚起步，才有许多的机会或者说锻炼的机会能够去试错，积累相关的技术经验。" class="headerlink" title="听完一整篇毕玄的访谈，我的一个总结在于要想成为一个成功的程序员或者成功的人，最重要的还是吃到版本红利，当然实力也是很重要的，但是当达到一定的实力的时候，时运真的很重要。如果他没有经历那时候淘宝疯狂的增长时期，我觉得他甚至进不去阿里团队。也正是那会淘宝刚起步，才有许多的机会或者说锻炼的机会能够去试错，积累相关的技术经验。"></a>听完一整篇毕玄的访谈，我的一个总结在于要想成为一个成功的程序员或者成功的人，最重要的还是吃到版本红利，当然实力也是很重要的，但是当达到一定的实力的时候，时运真的很重要。如果他没有经历那时候淘宝疯狂的增长时期，我觉得他甚至进不去阿里团队。也正是那会淘宝刚起步，才有许多的机会或者说锻炼的机会能够去试错，积累相关的技术经验。</h2><h2 id="要成长为他一样的人，要做的就是选对赛道，能够规划好自己的路径"><a href="#要成长为他一样的人，要做的就是选对赛道，能够规划好自己的路径" class="headerlink" title="要成长为他一样的人，要做的就是选对赛道，能够规划好自己的路径"></a>要成长为他一样的人，要做的就是选对赛道，能够规划好自己的路径</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/10/10/%E8%AF%BB%E3%80%8A%E8%B6%85%E7%BA%A7%E8%AE%BF%E8%B0%88%EF%BC%9A%E5%AF%B9%E8%AF%9D%E6%AF%95%E7%8E%84%E3%80%8B%E6%9C%89%E6%84%9F/" data-id="clmivnvt6005jc3p65wt87mpd" data-title="读《超级访谈：对话毕玄》有感" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-【业务杂谈】幂等和防悬挂" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/08/07/%E3%80%90%E4%B8%9A%E5%8A%A1%E6%9D%82%E8%B0%88%E3%80%91%E5%B9%82%E7%AD%89%E5%92%8C%E9%98%B2%E6%82%AC%E6%8C%82/" class="article-date">
  <time class="dt-published" datetime="2022-08-07T07:34:00.000Z" itemprop="datePublished">2022-08-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/zczb/">zczb</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/08/07/%E3%80%90%E4%B8%9A%E5%8A%A1%E6%9D%82%E8%B0%88%E3%80%91%E5%B9%82%E7%AD%89%E5%92%8C%E9%98%B2%E6%82%AC%E6%8C%82/">【业务杂谈】幂等和防悬挂</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="幂等和防悬挂"><a href="#幂等和防悬挂" class="headerlink" title="幂等和防悬挂"></a>幂等和防悬挂</h1><h2 id="一、什么是幂等"><a href="#一、什么是幂等" class="headerlink" title="一、什么是幂等"></a>一、什么是幂等</h2><p>先说结论，幂等就是让多次相同的请求有一致的结果。</p>
<p>我们做了一个幂等改造的需求，每次都会有人问我为什么要做这个，不用这个可以吗？我们想想看一个场景，我们购买一个ECS服务器，你购买之后商品系统就会发起一次交付，如果我们调用下游系统超时了(可能是因为<strong>网络传输丢包</strong>或者是<strong>返回结果丢失</strong>)，这个时候我们是否能重试呢？重试是否会多交付一台实例给用户呢？</p>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/img/image-20220807224930447.png" alt="image-20220807224930447"></p>
<p>当前我们的系统都是采用了微服务架构，系统和系统之间通信的方式无非几种：① RPC ② MQ ③ HTTP，对于<strong>远程调用</strong>会有三种状态：成功，失败或者超时。前两者都是很明确的状态，而超时是一个<strong>非常模糊</strong>的状态。因此我们做好幂等可以保证我们发起交付，在超时重试的过程中能够保证交付，不会让我们因为重试而交付了多台机器造成资源浪费。对于<strong>MQ</strong>而言，幂等可以保证让我们避免重复消费。<strong>HTTP</strong>同理。</p>
<h2 id="二、怎么设计幂等？"><a href="#二、怎么设计幂等？" class="headerlink" title="二、怎么设计幂等？"></a>二、怎么设计幂等？</h2><p>我们的幂等解决方案是利用数据库的写完成的，也是比较粗线条的解决方案吧。我们设计了一个幂等表。</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>int64</td>
<td>主键 自增</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>由幂等组和唯一标识的key，唯一索引</td>
</tr>
<tr>
<td>group</td>
<td>string</td>
<td>幂等组</td>
</tr>
<tr>
<td>sigture</td>
<td>String</td>
<td>方法签名，方法名和方法参数的md5值 唯一索引</td>
</tr>
</tbody></table>
<p>当能够从幂等表中写入的时候就是写幂等成功，写入失败的时候判断是否是唯一索引冲突，是就是入幂等失败。所以幂等需要一个唯一标识来表示，这个唯一标识可以利用<strong>雪花算法</strong>生成。</p>
<p>一般的幂等过程是这样的：</p>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/img/image-20220807230957082.png" alt="image-20220807230957082"></p>
<h2 id="三、防悬挂和防悬挂的实现"><a href="#三、防悬挂和防悬挂的实现" class="headerlink" title="三、防悬挂和防悬挂的实现"></a>三、防悬挂和防悬挂的实现</h2><p>防悬挂就是防止你撤销请求先至，创建请求后至，防止空回滚的策略。</p>
<p>他的大概过程是这样的：</p>
<h3 id="1-交付先至，撤销后至"><a href="#1-交付先至，撤销后至" class="headerlink" title="1. 交付先至，撤销后至"></a>1. 交付先至，撤销后至</h3><p> <img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/img/image-20220807232934677.png" alt="image-20220807232934677"></p>
<h3 id="2-撤销先至，交付后至"><a href="#2-撤销先至，交付后至" class="headerlink" title="2. 撤销先至，交付后至"></a>2. 撤销先至，交付后至</h3><p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/img/image-20220807233155230.png" alt="image-20220807233155230"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/08/07/%E3%80%90%E4%B8%9A%E5%8A%A1%E6%9D%82%E8%B0%88%E3%80%91%E5%B9%82%E7%AD%89%E5%92%8C%E9%98%B2%E6%82%AC%E6%8C%82/" data-id="clmivnvsu003rc3p61x48hw89" data-title="【业务杂谈】幂等和防悬挂" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-【记录】挑战一个有趣的网站" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/23/%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91%E6%8C%91%E6%88%98%E4%B8%80%E4%B8%AA%E6%9C%89%E8%B6%A3%E7%9A%84%E7%BD%91%E7%AB%99/" class="article-date">
  <time class="dt-published" datetime="2022-07-23T04:19:49.000Z" itemprop="datePublished">2022-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/zczb/">zczb</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/23/%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91%E6%8C%91%E6%88%98%E4%B8%80%E4%B8%AA%E6%9C%89%E8%B6%A3%E7%9A%84%E7%BD%91%E7%AB%99/">【记录】挑战一个有趣的网站</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="挑战一个有趣的网站"><a href="#挑战一个有趣的网站" class="headerlink" title="挑战一个有趣的网站"></a>挑战一个有趣的网站</h2><blockquote>
<p>这个网站源自热门视频：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV17t4y157FZ">https://www.bilibili.com/video/BV17t4y157FZ</a></p>
</blockquote>
<p>我的思路一开始就是怎么绕过他的校验然后发送，但是当我看到他的js的时候，我发现这个网页对于小白来说可能很难，但是对于有丰富经验的前&#x2F;后端工程师来说就是小菜一碟了。</p>
<p>打开F12找到js源码，我们可以看到main.js这个文件，网站的主要逻辑就在这里面了。<br>大概你能在里面找到这样一段代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&quot;https://service-9kivy954-1257138158.gz.apigw.tencentcs.com:443/updateNewUser&quot;</span>,</span><br><span class="line">                e,&#123;<span class="attr">headers</span>:&#123;<span class="string">&quot;Content-Type&quot;</span>:<span class="string">&quot;application/x-www-form-urlencoded&quot;</span>&#125;&#125;).<span class="title function_">then</span>((<span class="function"><span class="params">e</span>=&gt;</span>(<span class="variable language_">console</span>.<span class="title function_">log</span>(e),e))).<span class="title function_">catch</span>((<span class="function"><span class="params">e</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">response</span>)&#125;))),</span><br><span class="line">                startPlayTime=performance.<span class="title function_">now</span>(),</span><br><span class="line">                final_html=<span class="string">&#x27;\n&lt;p class=&quot;announce&quot;&gt;....&quot;</span></span><br></pre></td></tr></table></figure>
<p>这样我TM直接发个post不就好了吗，于是我打开了postman</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Request Body</span><br><span class="line">username<span class="punctuation">:</span> <span class="string">&quot;wangxs&quot;</span></span><br><span class="line">password<span class="punctuation">:</span> <span class="string">&quot;123456&quot;</span></span><br><span class="line">email<span class="punctuation">:</span> <span class="string">&quot;wangxs@whu.edu.cn&quot;</span></span><br><span class="line">age<span class="punctuation">:</span> <span class="string">&quot;23&quot;</span></span><br><span class="line">takenTime<span class="punctuation">:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/07/1459201755.png"><br>然后返回错误，可能是up主的腾讯云函数内存寄了。<br><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/07/3001353327.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/07/23/%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91%E6%8C%91%E6%88%98%E4%B8%80%E4%B8%AA%E6%9C%89%E8%B6%A3%E7%9A%84%E7%BD%91%E7%AB%99/" data-id="clmivnvsy004ac3p62weib61u" data-title="【记录】挑战一个有趣的网站" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-什么是InfiniBand？" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/05/%E4%BB%80%E4%B9%88%E6%98%AFInfiniBand%EF%BC%9F/" class="article-date">
  <time class="dt-published" datetime="2022-05-05T02:14:00.000Z" itemprop="datePublished">2022-05-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/bxjs/">bxjs</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/05/%E4%BB%80%E4%B9%88%E6%98%AFInfiniBand%EF%BC%9F/">什么是InfiniBand？</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><p>简介</p>
<blockquote>
<p>InfiniBand是一种开放标准的高带宽，低时延，高可靠的网络互联技术。该技术由IBTA（InfiniBand Trade Alliance）定义推动在超级计算机集群领域广泛应用，同时，随着人工智能的兴起，也是GPU服务器首选的网络互联技术。目前，最新的InfiniBand产品为Mellanox生产的HDR，可以为网络提供端到端高达200Gbps的带宽，为高性能计算，人工智能等领域带来无与伦比的网络体验，最大程度释放集群内计算潜能。</p>
</blockquote>
</li>
<li><p>为什么我们需要InfiniBand？</p>
<ul>
<li><p>带宽高，400 Gb&#x2F;s 的超快的速度。下面展示了端口宽度分别为1X、2X、4X和12X。带宽在2018年中期达到600GB&#x2F;s的数据速率(HDR)和2020年的1.2TB&#x2F;S数据速率(NDR)。</p>
<p><img src="https://www.infinibandta.org/wp-content/uploads/2020/09/IBTA-roadmap-for-approval-18-07-12-7-01-800x480.jpg" alt="InfiniBand Roadmap"></p>
</li>
</ul>
</li>
</ul>
<p>图1 InfiniBand Roadmap</p>
<ul>
<li><p>低延迟，端到端延迟大概为1µs，因此大大加速了许多数据中心和高性能计算（HPC）应用程序。</p>
</li>
<li><p><img src="https://img-blog.csdnimg.cn/510c105f77314329b20626e7898dffb0.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAbGVnZW5kMDUwNzA5Q29tZU9O,size_10,color_FFFFFF,t_70,g_se,x_16" alt="请添加图片描述"></p>
</li>
<li><p>更加高效，支持先进可靠的传输协议，比如RDMA(Remote Direct Memory Access)来提高作业的处理效率。</p>
</li>
<li><p>InfiniBand和以太网的区别？</p>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>InfiniBand(12x)</th>
<th>万兆以太网</th>
</tr>
</thead>
<tbody><tr>
<td>带宽</td>
<td>168G,300G…</td>
<td>10G</td>
</tr>
<tr>
<td>延迟</td>
<td>小于等于1微秒</td>
<td>接近10微秒</td>
</tr>
<tr>
<td>应用领域</td>
<td>超级计算机、企业存储</td>
<td>互联网，城域网等</td>
</tr>
<tr>
<td>优点</td>
<td>低延迟，高带宽</td>
<td>应用范围广，已成为普遍认可的标准技术</td>
</tr>
<tr>
<td>缺点</td>
<td>硬件成本高</td>
<td>延迟难以进一步降低</td>
</tr>
</tbody></table>
<ul>
<li><p>基于IB的应用？</p>
<ul>
<li>RDMA</li>
<li>MPI</li>
<li>NVLink</li>
<li>UCX</li>
</ul>
</li>
</ul>
<h2 id="他所存在的不足？"><a href="#他所存在的不足？" class="headerlink" title="他所存在的不足？"></a>他所存在的不足？</h2><ul>
<li><p>拥塞控制问题</p>
<ul>
<li><p>Background</p>
<ul>
<li><p>采用基于信用的链路层流控</p>
</li>
<li><p>基于显式拥塞通告（Explicit Congestion Notification, ECN）的端到端拥塞控制技术。[^[1]]:曹光权,张子文,孙志刚,陈洪义,胥庆杰.基于ibdump的InfiniBand网络拥塞控制观测方法研究[J].计算机科学,2013,40(04):47-50.</p>
<p><strong>拥塞控制原理:</strong></p>
<p>从宏观角度来看，拥塞控制操作可以分为三步：</p>
<ul>
<li><p>第一步，①当交换机检测到拥塞发生，交换机会将IB数据包的BTH(Base Transport Header)中的FECN(Forward Explicit Congestion Notification)域置为1。</p>
</li>
<li><p>第二步，②当数据包到达目标HCA(Host Channel Adapter)   ③目标HCA会向源HCA返回带BECN(Backward Explicit Congestion Notification)标识的CNP(Congestion Notification Packet)</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/05/3278519870.png" alt="未命名文件.png"><br>图2 IB网络中的拥塞控制架构</p>
<ul>
<li>第三步，④当源HCA收到CNP, ⑤它会逐渐减少发送速率，从而减少拥塞随着时间的推移，源 HCA会逐渐恢复发送速率。<br>  lB网络的拥塞控制需要IB交换机 HCA都支持才能选择开启，IB交换机和HCA维持着有关拥塞控制的一系列参数，这些参数决定着交换机什么时候检测到拥塞 、以什么样的比率进行FECN标记、HCA降低发送速率的速度和时长， 如果这些参数进行了合理的设置，网络就会很好地解决拥塞问题 ，避免头堵塞 (head-of-lineblocking)，从而更充分利用网络资源。</li>
<li>Question<ul>
<li>定期更新的信用混淆了拥塞控制。</li>
<li>端到端IB CC缓慢的调整速率与快速的基于信用的逐跳流量控制不匹配。</li>
<li>Congestion-unaware rate increase contradicts with rate decrease.</li>
</ul>
</li>
</ul>
<h2 id="可能的解决方案"><a href="#可能的解决方案" class="headerlink" title="可能的解决方案"></a>可能的解决方案</h2><p>要做到更好的拥塞控制我认为应该实现以下的目标：</p>
<ul>
<li>准确的检测和识别拥塞流。</li>
<li>迅速的将拥塞流量降低到适当的速度，而不是逐步降低。</li>
</ul>
<p>解决方案：</p>
<p>一、接收者驱动的速率调节</p>
<p>在IB CC里面发送方QP通过每次接收到具有BECN比特集的数据包时移动固定的CCTI_Decrese来降低发送速率。逐步降低的速率缓慢，不能迅速消除拥塞。此外，CCT表中预配置和静态的IPD值并不能很好的适应不同的拥塞情况，由于不同的。</p>
<p>其典型拥塞情况可以分为三种：</p>
<ul>
<li>端点拥塞，瓶颈是到端点的访问链路。比如如图3，当流si同时向R2发送数据，Link a就成了瓶颈链路，这种拥堵在多对一传输模式中很常见。</li>
<li>网络中拥塞，瓶颈是结构内部的共享链接。当流f1和fm分别向R1和R2发送数据时，Link b就成了瓶颈链路。</li>
<li>同时多个拥堵点，这是最复杂的情况，通常出现在共享同一链路但瓶颈不同的流的情况下。 比如，当流fi(1&lt;&#x3D;i&lt;&#x3D;m-1)向R1和流fm和流si给R2发送数据的同时，他们的链路瓶颈不同经管他们都共享Link a。</li>
</ul>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/05/1036281080.png" alt="image-20220504160751068.png"></p>
<p>图3 典型的拥塞情况</p>
<p>二、接收者驱动的拥塞流的识别</p>
<p>在IB CC中交换机负责在检测拥塞时区分拥塞根端口。检测拥塞根端口的目的是识别实际的拥塞流，这些拥塞应该在限制速率的情况下进行。人们可能会认为，如果信用额度超过下限，那么可以安全地将一个端口视为拥塞根端口。但是信用的下限很大程度上取决于信用的更新频率和拥塞根端口的拥塞程度。</p>
<p>我们发现接收者拥有识别拥塞流的宝贵信息：对于拥塞流，所有数据包都至少通过一个拥塞根端口，经历了长时间排队，并且始终具有可用信用。而对于非阻塞流，没有任何数据包通过拥塞根端口。我们的解决方案是拥塞识别延迟到接收端， 它的优点是我们避免了深入研究交换机中的实现细节，同时也能够准确地识别拥塞流。</p>
<p>最终我们形成了如图4以接收者驱动的拥塞控制结构。</p>
<ul>
<li>拥塞检测(Congestion detection)</li>
<li>拥塞标记(Congestion marking)</li>
<li>拥塞识别(Congestion identification)</li>
<li>拥塞通知(Congestion notification)</li>
<li>速率调整(Rate regulation)</li>
</ul>
<p><img src="https://wangxblog.oss-cn-hangzhou.aliyuncs.com/usr/uploads/2022/05/833168377.png" alt="image-20220504154948228.png"></p>
<p>图4 接收者驱动的拥塞控制结构</p>
<hr>
<p>###参考文献</p>
<p>[1]曹光权,张子文,孙志刚,陈洪义,胥庆杰.基于ibdump的InfiniBand网络拥塞控制观测方法研究[J].计算机科学,2013,40(04):47-50.</p>
<p>[2]Zhang Y, Qian K, Ren F. Receiver-Driven Congestion Control for InfiniBand[C]&#x2F;&#x2F;50th International Conference on Parallel Processing. 2021: 1-10.</p>
<p>[3]Pfister G F. An introduction to the infiniband architecture[J]. High performance mass storage and parallel I&#x2F;O, 2001, 42(617-632): 102.</p>
<p>[4]Chu C H, Kousha P, Awan A A, et al. Nv-group: link-efficient reduction for distributed deep learning on modern dense gpu systems[C]&#x2F;&#x2F;Proceedings of the 34th ACM International Conference on Supercomputing. 2020: 1-12.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/05/05/%E4%BB%80%E4%B9%88%E6%98%AFInfiniBand%EF%BC%9F/" data-id="clmivnvt1004oc3p6drhx48ep" data-title="什么是InfiniBand？" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-如何让mininet在M1系列的Macbook上运行？" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/23/%E5%A6%82%E4%BD%95%E8%AE%A9mininet%E5%9C%A8M1%E7%B3%BB%E5%88%97%E7%9A%84Macbook%E4%B8%8A%E8%BF%90%E8%A1%8C%EF%BC%9F/" class="article-date">
  <time class="dt-published" datetime="2022-04-22T21:43:00.000Z" itemprop="datePublished">2022-04-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/zczb/">zczb</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/23/%E5%A6%82%E4%BD%95%E8%AE%A9mininet%E5%9C%A8M1%E7%B3%BB%E5%88%97%E7%9A%84Macbook%E4%B8%8A%E8%BF%90%E8%A1%8C%EF%BC%9F/">如何让mininet在M1系列的Macbook上运行？</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="一、你可以尝试在Docker上运行或者自己构建镜像，已知的是mininet在Ubuntu-20-04-LTS-arm64-版本上是由相关的包存在的，你也可以选择在github上面下载。"><a href="#一、你可以尝试在Docker上运行或者自己构建镜像，已知的是mininet在Ubuntu-20-04-LTS-arm64-版本上是由相关的包存在的，你也可以选择在github上面下载。" class="headerlink" title="一、你可以尝试在Docker上运行或者自己构建镜像，已知的是mininet在Ubuntu 20.04 LTS arm64 版本上是由相关的包存在的，你也可以选择在github上面下载。"></a>一、你可以尝试在Docker上运行或者自己构建镜像，已知的是mininet在Ubuntu 20.04 LTS arm64 版本上是由相关的包存在的，你也可以选择在github上面下载。</h2><h2 id="二、使用虚拟机安装"><a href="#二、使用虚拟机安装" class="headerlink" title="二、使用虚拟机安装"></a>二、使用虚拟机安装</h2><p>你有两种选择：</p>
<ul>
<li>Parallels Desktop for ARM 收费</li>
<li><a target="_blank" rel="noopener" href="https://customerconnect.vmware.com/downloads/get-download?downloadGroup=FUS-PUBTP-2021H1">Vmware Fusion Player</a> 个人免费</li>
</ul>
<ol>
<li><p>下载安装虚拟机，具体步骤按不同而定吧</p>
</li>
<li><p>安装完成后下载[Ubuntu 20.04 LTS arm64](<a target="_blank" rel="noopener" href="https://ubuntu.com/download/server/arm">Ubuntu for ARM | Download | Ubuntu</a>)的镜像，如果你用的PD的话就可以直接选择下载默认的镜像。</p>
</li>
<li><p>安装Ubuntu，这个没什么其他的操作了。</p>
</li>
<li><p>安装完成后我们修改ubuntu的镜像源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">sudo nano /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后加入一下内容</span></span><br><span class="line"><span class="comment"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal-updates main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal-backports main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal-security main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal-security main restricted universe multiverse</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装mininet</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mininet</span><br><span class="line">sudo mn --version</span><br><span class="line">2.2.2</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装其他软件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install iperf3 wireshark hping3 -y</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置X11转发</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line">CTRL + W 搜索 X11</span><br><span class="line">X11Forwarding <span class="built_in">yes</span></span><br><span class="line">X11DisplayOffset 10</span><br><span class="line"></span><br><span class="line">搜索ROOT</span><br><span class="line">改成</span><br><span class="line"><span class="comment"># 这是为了等下登录可以使用root账号登录</span></span><br><span class="line">PermitRootLogin <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line">CTRL + o 保存</span><br><span class="line">CTRL + x 退出</span><br><span class="line"></span><br><span class="line">sudo service sshd restart</span><br><span class="line"></span><br><span class="line">sudo su</span><br><span class="line"></span><br><span class="line">passwd</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>Mac端</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">brew install XQuartz</span><br><span class="line">sudo vim /etc/ssh/ssh_config</span><br><span class="line">ForwardX11 <span class="built_in">yes</span></span><br><span class="line"><span class="comment"># 重启下mac</span></span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后就可以连接了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh -AY root@192.168.100.1</span><br><span class="line">sudo mn</span><br><span class="line">xterm h1</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/04/23/%E5%A6%82%E4%BD%95%E8%AE%A9mininet%E5%9C%A8M1%E7%B3%BB%E5%88%97%E7%9A%84Macbook%E4%B8%8A%E8%BF%90%E8%A1%8C%EF%BC%9F/" data-id="clmivnvt5005ac3p67c08bq3t" data-title="如何让mininet在M1系列的Macbook上运行？" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-如何构建一个CUDA aware的Open MPI？" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/22/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AACUDA%20aware%E7%9A%84Open%20MPI%EF%BC%9F/" class="article-date">
  <time class="dt-published" datetime="2022-03-21T23:11:00.000Z" itemprop="datePublished">2022-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/cuda/">cuda</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/22/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AACUDA%20aware%E7%9A%84Open%20MPI%EF%BC%9F/">如何构建一个CUDA aware的Open MPI？</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <blockquote>
<p>编译后出现了错误<br>mpicc: error while loading shared libraries: &gt; libopen-pal.so.0: cannot open shared object &gt; &gt; file: No such file or directory<br>我们可以使用<br> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ldconfig</span><br></pre></td></tr></table></figure><br>来解决</p>
</blockquote>
<h2 id="1-如何让Open-Mpi支持-CUDA-aware"><a href="#1-如何让Open-Mpi支持-CUDA-aware" class="headerlink" title="1. 如何让Open Mpi支持 CUDA-aware"></a>1. 如何让Open Mpi支持 CUDA-aware</h2><p>CUDA-aware 可以让你的MPI能够直接的发送和接收GPU缓存</p>
<p>Open MPI 提供了两种不同的CUDA支持</p>
<h3 id="1-使用-UCX"><a href="#1-使用-UCX" class="headerlink" title="(1). 使用 UCX."></a>(1). 使用 <a target="_blank" rel="noopener" href="https://openucx.org/">UCX</a>.</h3><p>这是你首选的一种机制，同时要确保你的ucx是使用了CUDA支持而构建的。你可以检查你的UCX是否支持CUDA。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Check <span class="keyword">if</span> ucx was built with CUDA support</span></span><br><span class="line">ucx_info -v</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">configured with: --build=powerpc64le-redhat-linux-gnu --host=powerpc64le-redhat-linux-gnu --program-prefix= --disable-dependency-tracking --prefix=/usr --exec-prefix=/usr --bindir=/usr/bin --sbindir=/usr/sbin --sysconfdir=/etc --datadir=/usr/share --includedir=/usr/include --libdir=/usr/lib64 --libexecdir=/usr/libexec --localstatedir=/var --sharedstatedir=/var/lib --mandir=/usr/share/man --infodir=/usr/share/info --disable-optimizations --disable-logging --disable-debug --disable-assertions --enable-mt --disable-params-check --enable-cma --without-cuda --without-gdrcopy --with-verbs --with-cm --with-knem --with-rdmacm --without-rocm --without-xpmem --without-ugni --without-java</span></span><br></pre></td></tr></table></figure>
<p>然后就是构建Open MPI同时使用UCX</p>
<ul>
<li><p>获取最新的MPI版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/open-mpi/ompi.git</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> ompi</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./autogen.pl</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编译UCX</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mkdir</span> build-ucx</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> build-ucx</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">../configure --prefix=&lt;ompi-install-path&gt; --with-ucx=&lt;ucx-install-path&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong> 在Open MPI 4.0 + ，可能会报”btl_uct”组件编译失败的错误，这个组件并不重要，我们可以通过以下方式禁用：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./configure ... --enable-mca-no-build=btl-uct ...</span></span><br></pre></td></tr></table></figure></li>
<li><p>编译</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">make</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">make install</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>运行MPI </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mpirun -np 2 -mca pml ucx -x UCX_NET_DEVICES=mlx5_0:1 ./app</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>最近的OpenMPI版本包含一个名为“uct”的BTL组件，它可能导致在OPAL和UCM之间的Malloc钩子冲突时启用数据损坏。为了解决这个问题，使用以下替代方案之一:</p>
</blockquote>
<ul>
<li>方法1 禁止将该组件编译进来<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./configure ... --enable-mca-no-build=btl-uct ...</span></span><br></pre></td></tr></table></figure></li>
<li>方法2 禁止组件运行<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mpirun -np 2 -mca pml ucx -mca btl ^uct -x UCX_NET_DEVICES=mlx5_0:1 ./app</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>运行调试<br>默认情况下，OpenMPI允许构建传输（BTL），这可能导致OpenMPI进度函数中的其他软件开销。为了解决此问题，您可能会尝试禁用某些BTL。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mpirun -np 2 -mca pml ucx --mca btl ^vader,tcp,openib,uct -x UCX_NET_DEVICES=mlx5_0:1 ./app</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-使用内部的Open-MPI-CUDA支持"><a href="#2-使用内部的Open-MPI-CUDA支持" class="headerlink" title="(2). 使用内部的Open MPI CUDA支持"></a>(2). 使用内部的Open MPI CUDA支持</h3><p>你可以使用<code>--with-cuda=&lt;path-to-cuda&gt;</code>来构建你的MPI支持CUDA</p>
<h2 id="2-验证安装"><a href="#2-验证安装" class="headerlink" title="2. 验证安装"></a>2. 验证安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Use ompi_info to verify cuda support <span class="keyword">in</span> Open MPI</span></span><br><span class="line"><span class="meta prompt_">shell$ </span><span class="language-bash">./ompi_info |grep <span class="string">&quot;MPI extensions</span></span></span><br></pre></td></tr></table></figure>

<p>显示</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MPI extensions: affinity, cuda, pcollreq</span><br></pre></td></tr></table></figure>

<h2 id="3-CUDA-aware支持的MPI-API"><a href="#3-CUDA-aware支持的MPI-API" class="headerlink" title="3. CUDA-aware支持的MPI API"></a>3. CUDA-aware支持的MPI API</h2><ul>
<li><p>MPI_Allgather</p>
</li>
<li><p>MPI_Allgatherv</p>
</li>
<li><p>MPI_Allreduce</p>
</li>
<li><p>MPI_Alltoall</p>
</li>
<li><p>MPI_Alltoallv</p>
</li>
<li><p>MPI_Alltoallw</p>
</li>
<li><p>MPI_Bcast</p>
</li>
<li><p>MPI_Bsend</p>
</li>
<li><p>MPI_Bsend_init</p>
</li>
<li><p>MPI_Exscan</p>
</li>
<li><p>MPI_Ibsend</p>
</li>
<li><p>MPI_Irecv</p>
</li>
<li><p>MPI_Isend</p>
</li>
<li><p>MPI_Irsend</p>
</li>
<li><p>MPI_Issend</p>
</li>
<li><p>MPI_Gather</p>
</li>
<li><p>MPI_Gatherv</p>
</li>
<li><p>MPI_Get</p>
</li>
<li><p>MPI_Put</p>
</li>
<li><p>MPI_Rsend</p>
</li>
<li><p>MPI_Rsend_init</p>
</li>
<li><p>MPI_Recv</p>
</li>
<li><p>MPI_Recv_init</p>
</li>
<li><p>MPI_Reduce</p>
</li>
<li><p>MPI_Reduce_scatter</p>
</li>
<li><p>MPI_Reduce_scatter_block</p>
</li>
<li><p>MPI_Scan</p>
</li>
<li><p>MPI_Scatter</p>
</li>
<li><p>MPI_Scatterv</p>
</li>
<li><p>MPI_Send</p>
</li>
<li><p>MPI_Send_init</p>
</li>
<li><p>MPI_Sendrecv</p>
</li>
<li><p>MPI_Ssend</p>
</li>
<li><p>MPI_Ssend_init</p>
</li>
<li><p>MPI_Win_create</p>
</li>
</ul>
<h2 id="5-CUDA-aware-不支持的API"><a href="#5-CUDA-aware-不支持的API" class="headerlink" title="5. CUDA aware 不支持的API"></a>5. CUDA aware 不支持的API</h2><ul>
<li><p>MPI_Accumulate</p>
</li>
<li><p>MPI_Compare_and_swap</p>
</li>
<li><p>MPI_Fetch_and_op</p>
</li>
<li><p>MPI_Get_Accumulate</p>
</li>
<li><p>MPI_Iallgather</p>
</li>
<li><p>MPI_Iallgatherv</p>
</li>
<li><p>MPI_Iallreduce</p>
</li>
<li><p>MPI_Ialltoall</p>
</li>
<li><p>MPI_Ialltoallv</p>
</li>
<li><p>MPI_Ialltoallw</p>
</li>
<li><p>MPI_Ibcast</p>
</li>
<li><p>MPI_Iexscan</p>
</li>
<li><p>MPI_Rget</p>
</li>
<li><p>MPI_Rput</p>
</li>
</ul>
<blockquote>
<p>参考资料 ：<br>[1]. <a target="_blank" rel="noopener" href="https://docs.open-mpi.org/en/master/networking/cuda.html?highlight=cuda">The Open MPI documentation CUDA Section</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/03/22/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AACUDA%20aware%E7%9A%84Open%20MPI%EF%BC%9F/" data-id="clmivnvt40058c3p67qvc3guz" data-title="如何构建一个CUDA aware的Open MPI？" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-关于武大网安复试的一些QA" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/05/%E5%85%B3%E4%BA%8E%E6%AD%A6%E5%A4%A7%E7%BD%91%E5%AE%89%E5%A4%8D%E8%AF%95%E7%9A%84%E4%B8%80%E4%BA%9BQA/" class="article-date">
  <time class="dt-published" datetime="2022-03-05T02:38:00.000Z" itemprop="datePublished">2022-03-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/zczb/">zczb</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/05/%E5%85%B3%E4%BA%8E%E6%AD%A6%E5%A4%A7%E7%BD%91%E5%AE%89%E5%A4%8D%E8%AF%95%E7%9A%84%E4%B8%80%E4%BA%9BQA/">关于武大网安复试的一些QA</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[scode type&#x3D;”green”]<br>Q:复试的笔试是什么形式？<br>A:笔试一般是几道简答题，没有客观题(选择或填空)。基本上是言之有理即可得分，然后考察的是《信息系统安全概论》书上的相关内容，你只需要熟悉相关的即可，不用死记硬背。<br>[&#x2F;scode]</p>
<p>[scode type&#x3D;”green”]<br>Q: 复试的流程是怎么样的?<br>A: 去年的情况是第一天参加笔试，笔试完第二天上午抽签选择不同组面试，然后第二天下午进行面试。<br>[&#x2F;scode]</p>
<p>[scode type&#x3D;”green”]<br>Q: 我们的面试有自我介绍吗？英语面试的形式是怎么样的？<br>A：去年的面试是没有自我介绍的环节，英语面试是直接让你抽纸条选两个题目问你。没有单独的英语听力测试，在问你的同时就考察听说的能力。<br>[&#x2F;scode]</p>
<p>[scode type&#x3D;”green”]</p>
<p>Q: 如果线下可以给老师发简历吗？<br>A：可以我也建议你准备简历，最好准备个10份，不然到时候当场不够发就难受了。</p>
<p>[&#x2F;scode]</p>
<p>[scode type&#x3D;”green”]</p>
<p>Q: 想知道复试每个部分：英语问答，专业课问答每部分大概多久？大概几个问题？<br>A：一般来说英语的话在三四分钟，专业课大概十几分钟，英语有两个问题，专业课一般一个老师问一个问题一共八个左右。</p>
<p>[&#x2F;scode]</p>
<hr>
<p>一些资料我发在这里，评论后可见哦，拒绝白嫖。</p>
<p>「信息系统安全」<a target="_blank" rel="noopener" href="https://www.aliyundrive.com/s/AKtr62C9Zkc">https://www.aliyundrive.com/s/AKtr62C9Zkc</a><br>点击链接保存，或者复制本段内容，打开「阿里云盘」APP ，无需下载极速在线查看，视频原画倍速播放。</p>
<p>你有什么问题也可在评论区问，我有时间会回的。<br>你要是急的话可以发邮件给我 <a href="mailto:&#119;&#x61;&#110;&#x67;&#x78;&#x5f;&#x30;&#49;&#x30;&#x32;&#x40;&#x31;&#50;&#x36;&#46;&#99;&#111;&#109;">&#119;&#x61;&#110;&#x67;&#x78;&#x5f;&#x30;&#49;&#x30;&#x32;&#x40;&#x31;&#50;&#x36;&#46;&#99;&#111;&#109;</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/03/05/%E5%85%B3%E4%BA%8E%E6%AD%A6%E5%A4%A7%E7%BD%91%E5%AE%89%E5%A4%8D%E8%AF%95%E7%9A%84%E4%B8%80%E4%BA%9BQA/" data-id="clmivnvt3004yc3p60xbyduen" data-title="关于武大网安复试的一些QA" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-【LeetCode】第71场 双周赛补题" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/04/%E3%80%90LeetCode%E3%80%91%E7%AC%AC71%E5%9C%BA%20%E5%8F%8C%E5%91%A8%E8%B5%9B%E8%A1%A5%E9%A2%98/" class="article-date">
  <time class="dt-published" datetime="2022-03-04T04:51:13.000Z" itemprop="datePublished">2022-03-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/LeetCode/">LeetCode</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/04/%E3%80%90LeetCode%E3%80%91%E7%AC%AC71%E5%9C%BA%20%E5%8F%8C%E5%91%A8%E8%B5%9B%E8%A1%A5%E9%A2%98/">【LeetCode】第71场 双周赛补题</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="第71场-双周赛补题"><a href="#第71场-双周赛补题" class="headerlink" title="第71场 双周赛补题"></a>第71场 双周赛补题</h1><h2 id="第一题-2160-拆分数位后四位数字的最小和"><a href="#第一题-2160-拆分数位后四位数字的最小和" class="headerlink" title="第一题 2160. 拆分数位后四位数字的最小和"></a>第一题 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/minimum-sum-of-four-digit-number-after-splitting-digits/">2160. 拆分数位后四位数字的最小和</a></h2><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>[scode type&#x3D;”share”]</p>
<p>给你一个四位 正 整数 num 。请你使用 num 中的 数位 ，将 num 拆成两个新的整数 new1 和 new2 。new1 和 new2 中可以有 前导 0 ，且 num 中 所有 数位都必须使用。</p>
<p>比方说，给你 num &#x3D; 2932 ，你拥有的数位包括：两个 2 ，一个 9 和一个 3 。一些可能的 [new1, new2] 数对为 [22, 93]，[23, 92]，[223, 9] 和 [2, 329] 。<br>请你返回可以得到的 new1 和 new2 的 最小 和。</p>
<p>来源：力扣（LeetCode）<br>链接：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/minimum-sum-of-four-digit-number-after-splitting-digits">https://leetcode-cn.com/problems/minimum-sum-of-four-digit-number-after-splitting-digits</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
<p>[&#x2F;scode]</p>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>首先我们知道，两个两位数相加一般来说都是比一个一位数加上一个三位数来的小的。所以这里我们只需要把这四个数变成两个两位数即可，这样我们只需要把这两个两位数的十位为最小的两个数，然后剩下的两个数作为百位即可。</p>
<ul>
<li>2932 –拆分-&gt;[2, 9, 3, 2] –排序–&gt; [2, 2, 3 ,9] –重组-&gt; [2, 3] + [2, 9] &#x3D; 52</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumSum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">remind</span> <span class="operator">=</span> num % <span class="number">10</span>;</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">            nums[cnt++] = remind;</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>]*<span class="number">10</span> + nums[<span class="number">1</span>] * <span class="number">10</span> + nums[<span class="number">2</span>] + nums[<span class="number">3</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第二题-2161-根据给定数字划分数组"><a href="#第二题-2161-根据给定数字划分数组" class="headerlink" title="第二题 2161. 根据给定数字划分数组"></a>第二题 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/partition-array-according-to-given-pivot/">2161. 根据给定数字划分数组</a></h2><h3 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h3><p>[scode type&#x3D;”share”]</p>
<p>给你一个下标从 0 开始的整数数组 nums 和一个整数 pivot 。请你将 nums 重新排列，使得以下条件均成立：</p>
<p>所有小于 pivot 的元素都出现在所有大于 pivot 的元素 之前 。<br>所有等于 pivot 的元素都出现在小于和大于 pivot 的元素 中间 。<br>小于 pivot 的元素之间和大于 pivot 的元素之间的 相对顺序 不发生改变。<br>更正式的，考虑每一对 pi，pj ，pi 是初始时位置 i 元素的新位置，pj 是初始时位置 j 元素的新位置。对于小于 pivot 的元素，如果 i &lt; j 且 nums[i] &lt; pivot 和 nums[j] &lt; pivot 都成立，那么 pi &lt; pj 也成立。类似的，对于大于 pivot 的元素，如果 i &lt; j 且 nums[i] &gt; pivot 和 nums[j] &gt; pivot 都成立，那么 pi &lt; pj 。<br>请你返回重新排列 nums 数组后的结果数组。</p>
<p>来源：力扣（LeetCode）<br>链接：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/partition-array-according-to-given-pivot">https://leetcode-cn.com/problems/partition-array-according-to-given-pivot</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
<p>[&#x2F;scode]</p>
<h3 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h3><p>一开始我想用快速排序的思路写的，然后xjb写了一通不太对，然后干脆就暴力一点开三个数组，一个存比<code>Pivot</code>小的叫做<code>left[]</code>, 比<code>pivot</code>大的叫做<code>right[]</code>, 和<code>Pivot</code>一样大的叫做<code>mid[]</code>，然后把他们合并，复杂度应该是<code>O(N)</code></p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] pivotArray(<span class="type">int</span>[] nums, <span class="type">int</span> pivot) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">posl</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">posr</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">posm</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span>[] l = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="type">int</span>[] r = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="type">int</span>[] m = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (num &lt; pivot) &#123;</span><br><span class="line">                l[posl++] = num;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num &gt; pivot) &#123;</span><br><span class="line">                r[posr++] = num;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                m[posm++] = num;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; posl; i++) &#123;</span><br><span class="line">            nums[cnt++] = l[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; posm; i++) &#123;</span><br><span class="line">            nums[cnt++] = m[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; posr; i++) &#123;</span><br><span class="line">            nums[cnt++] = r[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第三题-2162-设置时间的最少代价"><a href="#第三题-2162-设置时间的最少代价" class="headerlink" title="第三题 2162. 设置时间的最少代价"></a>第三题 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/minimum-cost-to-set-cooking-time/">2162. 设置时间的最少代价</a></h2><h3 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a>题目</h3><p>[scode type&#x3D;”yellow”]</p>
<p>这题读题有点难受，我看了一些别人的理解才想清楚是怎么回事。</p>
<p>看了一下才理解，startAt就是初始数字是多少，move就是换数字，push就是确定键。 然后就能理解下面的行为。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 1 0 0 0 ，表示 10 分 0 秒。</span><br><span class="line">  手指一开始就在数字 1 处，输入 1 （代价为 1），移到 0 处（代价为 2），输入 0（代价为 1），输入 0（代价为 1），输入 0（代价为 1）。</span><br><span class="line">  总代价为：1 + 2 + 1 + 1 + 1 = 6 。这是所有方案中的最小代价。</span><br></pre></td></tr></table></figure>

<p>[&#x2F;scode] </p>
<h3 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h3><p>这题读懂题后我们知道如果前导为0的话我们直接不用管前面的0，比如输入 <code>0</code> <code>0</code> <code>0</code> <code>8</code> （四个数字），表示 <code>0</code> 分 <code>8</code> 秒。所以只用设定8秒就行。<strong>当然这里我们要考虑两种情况，就是后面的秒大于60和小于60的情况，我们只需要考虑<code>(分钟数，秒数)</code> 和 <code>(分钟数-1， 秒数+60)</code>两种情况，并且判断分钟数和秒数是否合法即可。</strong>我们以<code>startAt = 1, </code>,  <code>moveCost = 2</code>, <code>pushCost = 1</code>, <code>targetSeconds = 600</code>为例子，我们计算第一种情况下的数据<code>(minutes=10, seconds=00)</code>,我们的<code>startAt</code>为<code>1</code>所以我们不需要移动只需要执行<code>push</code>即可，所以<code>ansCost += pushCost</code>,然后我们发现当前为<code>0</code>,<code> 0 != 1</code>所以移动一位有<code>ansCost += moveCost</code>, 这时候我们需要更新下当前的<code>startAt  = now</code>.</p>
<h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minCostSetTime</span><span class="params">(<span class="type">int</span> startAt, <span class="type">int</span> moveCost, <span class="type">int</span> pushCost, <span class="type">int</span> targetSeconds)</span> &#123;</span><br><span class="line">        <span class="comment">// case 1</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">minute</span> <span class="operator">=</span> targetSeconds / <span class="number">60</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">second</span> <span class="operator">=</span> targetSeconds % <span class="number">60</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans1</span> <span class="operator">=</span> minCostTime(startAt, moveCost, pushCost, minute, second);</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans2</span> <span class="operator">=</span> minCostTime(startAt, moveCost, pushCost, minute-<span class="number">1</span>, second+<span class="number">60</span>);</span><br><span class="line">        <span class="keyword">return</span> Math.min(ans1, ans2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minCostTime</span><span class="params">(<span class="type">int</span> startAt, <span class="type">int</span> moveCost, <span class="type">int</span> pushCost, <span class="type">int</span> minute, <span class="type">int</span> second)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (minute &gt; <span class="number">99</span> || minute &lt; <span class="number">0</span> || second &gt; <span class="number">99</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// section1 60秒的情况</span></span><br><span class="line">        <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">        nums[<span class="number">0</span>] = minute/<span class="number">10</span>;</span><br><span class="line">        nums[<span class="number">1</span>] = minute%<span class="number">10</span>;</span><br><span class="line">        nums[<span class="number">2</span>] = second/<span class="number">10</span>;</span><br><span class="line">        nums[<span class="number">3</span>] = second%<span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (cnt  &lt; <span class="number">4</span> &amp;&amp; nums[cnt] == <span class="number">0</span>) &#123;</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ansCost</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">prev</span> <span class="operator">=</span> startAt;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> cnt; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> nums[i];</span><br><span class="line">            <span class="keyword">if</span> (d != prev) &#123;</span><br><span class="line">                prev = d;</span><br><span class="line">                ansCost += moveCost;</span><br><span class="line">            &#125;</span><br><span class="line">            ansCost += pushCost;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ansCost;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/03/04/%E3%80%90LeetCode%E3%80%91%E7%AC%AC71%E5%9C%BA%20%E5%8F%8C%E5%91%A8%E8%B5%9B%E8%A1%A5%E9%A2%98/" data-id="clmivnvss003dc3p6eh3k1kwo" data-title="【LeetCode】第71场 双周赛补题" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-【LeetCode】第279场周赛" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/03/%E3%80%90LeetCode%E3%80%91%E7%AC%AC279%E5%9C%BA%E5%91%A8%E8%B5%9B/" class="article-date">
  <time class="dt-published" datetime="2022-03-03T02:07:59.000Z" itemprop="datePublished">2022-03-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/03/%E3%80%90LeetCode%E3%80%91%E7%AC%AC279%E5%9C%BA%E5%91%A8%E8%B5%9B/">【LeetCode】第279场周赛</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="第279场周赛"><a href="#第279场周赛" class="headerlink" title="第279场周赛"></a>第279场周赛</h1><h2 id="第一题-2164-对奇偶下标分别排序"><a href="#第一题-2164-对奇偶下标分别排序" class="headerlink" title="第一题 2164. 对奇偶下标分别排序"></a>第一题 2164. 对奇偶下标分别排序</h2><h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><blockquote>
<p>给你一个下标从 0 开始的整数数组 nums 。根据下述规则重排 nums 中的值：<br>按 非递增 顺序排列 nums 奇数下标 上的所有值。<br>举个例子，如果排序前 nums &#x3D; [4,1,2,3] ，对奇数下标的值排序后变为 [4,3,2,1] 。奇数下标 1 和 3 的值按照非递增顺序重排。<br>按 非递减 顺序排列 nums 偶数下标 上的所有值。<br>举个例子，如果排序前 nums &#x3D; [4,1,2,3] ，对偶数下标的值排序后变为 [2,1,4,3] 。偶数下标 0 和 2 的值按照非递减顺序重排。<br>返回重排 nums 的值之后形成的数组。<br>来源：力扣（LeetCode）<br>链接：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/sort-even-and-odd-indices-independently">https://leetcode-cn.com/problems/sort-even-and-odd-indices-independently</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
</blockquote>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>一个水题，但是我脑子嗡嗡的，写了半个小时。</p>
<p>我的思路是把奇数位的放入一个数组排序，然后把偶数位的放入一个数组排序。然后合并。</p>
<p>算法复杂度应该是O(N), 精确点就是2N。</p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span>[] sortEvenOdd(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length &lt;= <span class="number">2</span>) <span class="keyword">return</span> nums;</span><br><span class="line">        List&lt;Integer&gt; odd = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; even = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                odd.add(nums[i]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                even.add(nums[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        odd.sort((o1, o2) -&gt; o2 - o1);</span><br><span class="line">        Collections.sort(even);</span><br><span class="line">        <span class="type">int</span> <span class="variable">oddIdx</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">evenIdx</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">val</span> <span class="operator">=</span> odd.get(oddIdx++);</span><br><span class="line">                nums[i] = val;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">val</span> <span class="operator">=</span> even.get(evenIdx++);</span><br><span class="line">                nums[i] = val;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="第二题-2165-重排数字的最小值"><a href="#第二题-2165-重排数字的最小值" class="headerlink" title="第二题 	2165. 重排数字的最小值"></a>第二题 	<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/smallest-value-of-the-rearranged-number/">2165. 重排数字的最小值</a></h2><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><blockquote>
<p>给你一个整数 num 。重排 num 中的各位数字，使其值 最小化 且不含 任何 前导零。</p>
<p>返回不含前导零且值最小的重排数字。</p>
<p>注意，重排各位数字后，num 的符号不会改变。</p>
<p>来源：力扣（LeetCode）<br>链接：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/smallest-value-of-the-rearranged-number">https://leetcode-cn.com/problems/smallest-value-of-the-rearranged-number</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
</blockquote>
<h3 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h3><ul>
<li>对于正整数我们只需要把每一位数字取出，如[3,1,0]，然后对这个数组进行排序[0, 1, 3]，如果发现前导为0，我们就寻找第一个不为0的数字和第一位交换。这里也就是<code>0 &lt;-&gt; 1</code>，最后变为[1, 0, 3]。<ul>
<li>[4, 0, 0, 3, 2] —-排序—&gt; [0, 0, 2, 3, 4] —交换-&gt;[2, 0, 0, 3, 4]</li>
</ul>
</li>
<li>对于负数，我们取它的绝对值，然后要求调整位置使得这个绝对值最大，我们就可以把数字从大到小排序，这样就不会出现前导为0，我们直接算出就可以。注意最后要写成负数。<ul>
<li>-[7, 6, 0, 5] —-&gt;-[7,6,5,0]</li>
</ul>
</li>
</ul>
<h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">smallestNumber</span><span class="params">(<span class="type">long</span> num)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        List&lt;Long&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (num &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            num = -num;</span><br><span class="line">            <span class="type">long</span> <span class="variable">tmp</span> <span class="operator">=</span> num;</span><br><span class="line">            <span class="keyword">while</span> (tmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">long</span> <span class="variable">remind</span> <span class="operator">=</span> tmp % <span class="number">10</span>;</span><br><span class="line">                tmp /= <span class="number">10</span>;</span><br><span class="line">                list.add(remind);</span><br><span class="line">            &#125;</span><br><span class="line">            list.sort((o1, o2) -&gt; (<span class="type">int</span>) (o2 - o1));</span><br><span class="line">            <span class="type">long</span> <span class="variable">pow</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> list.size()-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="type">long</span> <span class="variable">n</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">                ans += pow * n;</span><br><span class="line">                pow *= <span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = -ans;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">tmp</span> <span class="operator">=</span> num;</span><br><span class="line">            <span class="keyword">while</span> (tmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">long</span> <span class="variable">remind</span> <span class="operator">=</span> tmp % <span class="number">10</span>;</span><br><span class="line">                tmp /= <span class="number">10</span>;</span><br><span class="line">                list.add(remind);</span><br><span class="line">            &#125;</span><br><span class="line">            Collections.sort(list);</span><br><span class="line">            <span class="keyword">if</span> (list.get(<span class="number">0</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (list.get(i) != <span class="number">0</span>) &#123;</span><br><span class="line">                        end = i;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">long</span> <span class="variable">next</span> <span class="operator">=</span> list.get(end);</span><br><span class="line">                list.set(end, <span class="number">0L</span>);</span><br><span class="line">                list.set(<span class="number">0</span>, next);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">long</span> <span class="variable">pow</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> list.size()-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="type">long</span> <span class="variable">n</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">                ans += pow * n;</span><br><span class="line">                pow *= <span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第三题-2166-设计位集"><a href="#第三题-2166-设计位集" class="headerlink" title="第三题 2166. 设计位集"></a>第三题 <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/design-bitset/">2166. 设计位集</a></h2><h3 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h3><blockquote>
<p>位集 Bitset 是一种能以紧凑形式存储位的数据结构。</p>
<p>请你实现 Bitset 类。</p>
<p>Bitset(int size) 用 size 个位初始化 Bitset ，所有位都是 0 。<br>void fix(int idx) 将下标为 idx 的位上的值更新为 1 。如果值已经是 1 ，则不会发生任何改变。<br>void unfix(int idx) 将下标为 idx 的位上的值更新为 0 。如果值已经是 0 ，则不会发生任何改变。<br>void flip() 翻转 Bitset 中每一位上的值。换句话说，所有值为 0 的位将会变成 1 ，反之亦然。<br>boolean all() 检查 Bitset 中 每一位 的值是否都是 1 。如果满足此条件，返回 true ；否则，返回 false 。<br>boolean one() 检查 Bitset 中 是否 至少一位 的值是 1 。如果满足此条件，返回 true ；否则，返回 false 。<br>int count() 返回 Bitset 中值为 1 的位的 总数 。<br>String toString() 返回 Bitset 的当前组成情况。注意，在结果字符串中，第 i 个下标处的字符应该与 Bitset 中的第 i 位一致。</p>
<p>来源：力扣（LeetCode）<br>链接：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/design-bitset">https://leetcode-cn.com/problems/design-bitset</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
</blockquote>
<h3 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h3><p>一开始沙比Σ(☉▽☉”a，没看数据的范围</p>
<ul>
<li><code>1 &lt;= size &lt;= 105</code></li>
<li><code>0 &lt;= idx &lt;= size - 1</code></li>
</ul>
<p>然后直接用char(16bit)做直接爆了，然后才看了下官方的做法。</p>
<h4 id="错误的方法，用char进行位运算直接做"><a href="#错误的方法，用char进行位运算直接做" class="headerlink" title="错误的方法，用char进行位运算直接做"></a>错误的方法，用char进行位运算直接做</h4><p>错误的做法如下。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Bitset</span> &#123;</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    <span class="type">char</span> bitSet;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Bitset</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.size = size;</span><br><span class="line">        <span class="built_in">this</span>.bitSet = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fix</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">change</span> <span class="operator">=</span> (<span class="type">int</span>) Math.pow(<span class="number">2</span>, <span class="built_in">this</span>.size - idx - <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">this</span>.bitSet = (<span class="type">char</span>) (<span class="built_in">this</span>.bitSet | change);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unfix</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">change</span> <span class="operator">=</span> ~(<span class="type">int</span>) Math.pow(<span class="number">2</span>, <span class="built_in">this</span>.size - idx - <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">this</span>.bitSet = (<span class="type">char</span>) (<span class="built_in">this</span>.bitSet &amp; change);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flip</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bitSet = (<span class="type">char</span>) ((~<span class="built_in">this</span>.bitSet));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">all</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> <span class="built_in">this</span>.bitSet;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (cnt &lt; <span class="built_in">this</span>.size) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((tmp &amp; <span class="number">1</span>) != <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt++;</span><br><span class="line">            tmp &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">one</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> <span class="built_in">this</span>.bitSet;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (cnt &lt; <span class="built_in">this</span>.size) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((tmp &amp; <span class="number">1</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt++;</span><br><span class="line">            tmp &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">count</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> <span class="built_in">this</span>.bitSet;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (p &lt; <span class="built_in">this</span>.size) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((tmp &amp; <span class="number">1</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">            p++;</span><br><span class="line">            tmp &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> <span class="built_in">this</span>.bitSet;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="built_in">this</span>.size; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">remind</span> <span class="operator">=</span>tmp % <span class="number">2</span>;</span><br><span class="line">            tmp /= <span class="number">2</span>;</span><br><span class="line">            sb.append(remind);</span><br><span class="line">        &#125;</span><br><span class="line">        sb.reverse();</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="正确的方法，用数组模拟bit位进行运算"><a href="#正确的方法，用数组模拟bit位进行运算" class="headerlink" title="正确的方法，用数组模拟bit位进行运算"></a>正确的方法，用数组模拟bit位进行运算</h4><p>我们需要知道如果经过偶数次的<code>flip</code>，二进制数不变，所以我们用一个<code>reversed</code>的二进制位来表示是奇数次还是偶数次, <code>flip()</code>函数不真正改变<code>arr[]</code>里面的数字，而是在需要运算的时候才使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fix</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">        <span class="comment">// 如果它arr[idx]通过反转后为0的话</span></span><br><span class="line">        <span class="keyword">if</span> ((arr[idx] ^ reversed) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 那么就把这个位数变为1. 异或的规则是同0异1，也就是 0^1=1, 1^1=0, 0^0=0, 1^0=1</span></span><br><span class="line">            arr[idx] ^= <span class="number">1</span>;</span><br><span class="line">            ++cnt;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unfix</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">        <span class="comment">// 如果它arr[idx]通过反转后为1的话</span></span><br><span class="line">        <span class="keyword">if</span> ((arr[idx] ^ reversed) == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// 把这个变成0</span></span><br><span class="line">            arr[idx] ^= <span class="number">1</span>;</span><br><span class="line">            --cnt;</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flip</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 记录反转次数， 0 异或 1 = 1 -&gt; 1 异或 1 = 0</span></span><br><span class="line">    	<span class="comment">// 仅记录反转次数，不参与计算</span></span><br><span class="line">        reversed ^= <span class="number">1</span>;</span><br><span class="line">        cnt = arr.length - cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">all</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cnt == arr.length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">one</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cnt &gt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">count</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="comment">// 最后输出的时候把反转加上</span></span><br><span class="line">            sb.append(arr[i] ^ reversed);</span><br><span class="line">        &#125;</span><br><span class="line">        sb.reverse();</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Bitset</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] arr;</span><br><span class="line">    <span class="type">int</span> cnt ;</span><br><span class="line">    <span class="type">int</span> reversed;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Bitset</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">        arr = <span class="keyword">new</span> <span class="title class_">int</span>[size];</span><br><span class="line">        <span class="built_in">this</span>.cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">this</span>.reversed = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fix</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">        <span class="comment">// 如果它arr[idx]通过反转后为0的话</span></span><br><span class="line">        <span class="keyword">if</span> ((arr[idx] ^ reversed) == <span class="number">0</span>) &#123;</span><br><span class="line">            arr[idx] ^= <span class="number">1</span>;</span><br><span class="line">            ++cnt;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unfix</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">        <span class="comment">// 如果它arr[idx]通过反转后为1的话</span></span><br><span class="line">        <span class="keyword">if</span> ((arr[idx] ^ reversed) == <span class="number">1</span>) &#123;</span><br><span class="line">            arr[idx] ^= <span class="number">1</span>;</span><br><span class="line">            --cnt;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flip</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 记录反转次数， 0 异或 1 = 1 -&gt; 1 异或 1 = 0</span></span><br><span class="line">        reversed ^= <span class="number">1</span>;</span><br><span class="line">        cnt = arr.length - cnt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">all</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> cnt == arr.length;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">one</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> cnt &gt; <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">count</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> cnt;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            sb.append(arr[i] ^ reversed);</span><br><span class="line">        &#125;</span><br><span class="line">        sb.reverse();</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://wangxso.github.io/2022/03/03/%E3%80%90LeetCode%E3%80%91%E7%AC%AC279%E5%9C%BA%E5%91%A8%E8%B5%9B/" data-id="clmivnvsr0038c3p6ciqxe9a1" data-title="【LeetCode】第279场周赛" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; zurück</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/3/">weiter &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JUC/">JUC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode/">LeetCode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/bxjs/">bxjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/cuda/">cuda</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/default/">default</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/dsbj/">dsbj</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jvmbook/">jvmbook</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/muban/">muban</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/selfdriving/">selfdriving</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/youji/">youji</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/zczb/">zczb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenCDA/" rel="tag">OpenCDA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/V2X/" rel="tag">V2X</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%91%84%E5%BD%B1/" rel="tag">摄影</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/OpenCDA/" style="font-size: 10px;">OpenCDA</a> <a href="/tags/V2X/" style="font-size: 10px;">V2X</a> <a href="/tags/%E6%91%84%E5%BD%B1/" style="font-size: 10px;">摄影</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/09/14/OpenCDA%20V2X%E9%80%9A%E4%BF%A1%E7%9B%B8%E5%85%B3/">OpenCDA V2X通信相关</a>
          </li>
        
          <li>
            <a href="/2023/08/28/%E5%8F%A4%E6%9C%B4%E9%9F%B5%E5%91%B3%E4%B8%8E%E8%8D%92%E9%87%8E%E4%B9%8B%E7%BE%8E%20-------%20%E8%A5%BF%E5%AE%89%E3%80%81%E9%9D%92%E6%B5%B7%E4%B9%8B%E6%97%85/">古朴韵味与荒野之美 ------- 西安、青海之旅</a>
          </li>
        
          <li>
            <a href="/2023/08/03/%E3%80%90OpenCDA%E3%80%91%E7%AE%97%E6%B3%95%E5%AE%9A%E5%88%B6%E5%8C%96%E5%BC%80%E5%8F%91/">【OpenCDA】算法定制化开发</a>
          </li>
        
          <li>
            <a href="/2023/08/01/zlib%20404/">zlib 404</a>
          </li>
        
          <li>
            <a href="/2023/07/19/V2X%E5%9C%BA%E6%99%AF%E5%8F%91%E5%B1%95%E5%92%8C%E4%BB%BF%E7%9C%9F/">V2X场景发展和仿真</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 wangxso<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>